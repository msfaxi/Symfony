<?php

/**
 * Project: UGAP- {{ucprojectname}}
 *
 * Services REST de la ressource PROFIL
 *
 * @author Jean-Pierre Arneodo <jean-pierre.arneodo@capgemini.com>
 * @package {{ucprojectname}}-SILO-ACL
 * @subpackage RESTFUL
 * @version $Id$
 */

require_once pathFile('hpp_krn_restful.php');
require_once pathFile('lib_wsx_acl.php');

/**
 * Dépendances sur les fonctions rest applicatives pour la ressource
 */
require_once pathFile('silo_fct_restful_acl.php');

/**
 * Définitions des services REST sur la ressource ACL
 */

restfulDefine
	('ws.acl'
	,array
		(restfulDefinePOST
		    ('siloAclAclRestPost'
		    ,array
		    	(restfulParamBodyAsJson()
		        ,restfulParamEtagNew('uuid.silo.acl')
		        )
		    ,array
				('{{projectname}}-pilote'
		    	)
			)
		)
	);

restfulDefine
	('ws.acl.id'
	,array
		(restfulDefineGET
		    ('siloAclAclRestGET'
		    ,array
		    	(restfulParam('id')
		    	,restfulParam('format','json')	// json | autre format à supporter?
		    	)
		    ,array
		    	('{{projectname}}-pilote'
		    	)
		    )
		,restfulDefinePUT
			('siloAclAclRestPUT'
		    ,array
		    	(restfulParam('id')
		        ,restfulParamBodyAsJson()
		        ,restfulParamEtagFromJson('_version_')
		        )
		    ,array
		    	('{{projectname}}-pilote'
		    	)
		    )
		,restfulDefineDELETE
			('siloAclAclRestDELETE'
		    ,array
		    	(restfulParam('id')
		        )
		    ,array
		    	('{{projectname}}-pilote'
		    	)
		    )
		)
	);
